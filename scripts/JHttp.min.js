class JHttp{constructor(){$(document).on("click","a.ajax",function(t){var a=$(this).attr("data-ajax-href")||$(this).attr("href");$(this).attr("data-ajax-return")&&($_.http.ajax(a,(t,a)=>{a.self=$(this),window.history.pushState(null,"",$(this).attr("href")),window[$(this).attr("data-ajax-return")](t,a)}),t.preventDefault())}),$(document).on("submit","form.ajax",function(t){if($(this).attr("data-ajax-return")){let a=$('button[type="submit"]',this),e=a.html();a.html('<i class="fa-solid fa-cog fa-spin"></i>'),a.addClass("disabled"),$_.http.request(t.target.action,$(this).serialize(),(t,s)=>{a.html(e),a.removeClass("disabled"),s.reset=()=>$(this).trigger("reset"),window[$(this).attr("data-ajax-return")](t,s)}),t.preventDefault()}})}ajax(t,a){$_.http.request(t,(t,e)=>{a(t,e)})}get(t,a=null){var e={};try{let s=new URL(t);e.baseURL=s.protocol+"//"+s.host,t=t.split(e.baseURL)[1]}catch(r){}return axios.create(e).get(t).then(t=>a?a(!1,t.data):t.data).catch(t=>a?a(!0,t.response):t.response)}request(t,a=null,e=null){let s="get",r={};"function"===type_of(a)?(e=a,a=null):"string"===type_of(a)&&(s="post"),axios.defaults.headers.common.Ajax=!0,axios[s](t,a).then(t=>{r=t}).catch(t=>{r=t.response,t=!0}).finally(()=>{e(!1,r)})}}